<section id="contact" class="contact-section glass-surface relative py-16 xl:py-24 overflow-hidden">
  <!-- Decorative blurs -->
  <div class="absolute top-0 right-0 w-96 h-96 bg-primary/10 rounded-full filter blur-3xl"></div>
  <div class="absolute bottom-0 left-1/4 w-72 h-72 bg-tertiary/10 rounded-full filter blur-3xl"></div>

  <div class="container mx-auto px-4 relative z-10">
    <div class="grid lg:grid-cols-2 gap-12 xl:gap-16 items-center max-w-6xl mx-auto">

      <!-- Left: Info -->
      <div class="scroll-animate-left">
        <span class="glass-badge mb-6">
          <i class="fas fa-envelope text-primary"></i>
          Get in Touch
        </span>
        <h2 class="text-3xl xl:text-4xl font-bold text-[#171D1C] mb-4 leading-tight">
          Ready to Start<br>Your Project?
        </h2>
        <p class="text-lg text-[#545454] mb-8 leading-relaxed">
          Let's discuss how we can help bring your vision to life. We'll get back to you within 24 hours.
        </p>

        <!-- Contact Info Cards -->
        <div class="space-y-4">
          <div class="glass-card glass-glow p-4 flex items-center gap-4">
            <div class="glass-icon w-12 h-12 text-primary">
              <i class="fas fa-envelope text-lg"></i>
            </div>
            <div>
              <div class="font-semibold text-[#171D1C]">Email Us</div>
              <a href="mailto:hello@baseetstudio.com"
                class="text-[#545454] hover:text-primary transition-colors text-sm">hello@baseetstudio.com</a>
            </div>
          </div>

          <div class="glass-card glass-glow p-4 flex items-center gap-4">
            <div class="glass-icon w-12 h-12 text-tertiary">
              <i class="fas fa-clock text-lg"></i>
            </div>
            <div>
              <div class="font-semibold text-[#171D1C]">Response Time</div>
              <span class="text-[#545454] text-sm">Within 24 hours</span>
            </div>
          </div>

          <div class="glass-card glass-glow p-4 flex items-center gap-4">
            <div class="glass-icon w-12 h-12 text-green-500">
              <i class="fas fa-globe text-lg"></i>
            </div>
            <div>
              <div class="font-semibold text-[#171D1C]">Available Worldwide</div>
              <span class="text-[#545454] text-sm">Remote-first team</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Right: Form -->
      <div class="scroll-animate-right">
        <div class="glass-card glass-border-iridescent p-6 xl:p-8">
          <!-- Formspree Integration with AJAX -->
          <form id="contact-form" class="space-y-5">
            <!-- Honeypot field for spam protection (hidden from users) -->
            <input type="text" name="_gotcha" style="display:none" tabindex="-1" autocomplete="off">

            <!-- Name & Email -->
            <div class="grid md:grid-cols-2 gap-4">
              <div>
                <label for="name" class="block text-sm font-semibold text-[#171D1C] mb-2">Your Name *</label>
                <input type="text" id="name" name="name" required class="glass-input w-full" placeholder="John Doe">
              </div>
              <div>
                <label for="email" class="block text-sm font-semibold text-[#171D1C] mb-2">Email *</label>
                <input type="email" id="email" name="email" required class="glass-input w-full"
                  placeholder="john@example.com">
              </div>
            </div>

            <!-- Project Type & Budget -->
            <div class="grid md:grid-cols-2 gap-4">
              <div>
                <label for="project-type" class="block text-sm font-semibold text-[#171D1C] mb-2">Project Type *</label>
                <select id="project-type" name="project-type" required
                  class="glass-input w-full appearance-none cursor-pointer">
                  <option value="">Select type</option>
                  <option value="web">Web Development</option>
                  <option value="mobile">Mobile App</option>
                  <option value="design">UI/UX Design</option>
                  <option value="consulting">Consulting</option>
                  <option value="other">Other</option>
                </select>
              </div>
              <div>
                <label for="budget" class="block text-sm font-semibold text-[#171D1C] mb-2">Budget</label>
                <select id="budget" name="budget" class="glass-input w-full appearance-none cursor-pointer">
                  <option value="">Select budget</option>
                  <option value="<5k">Less than $5k</option>
                  <option value="5k-10k">$5k - $10k</option>
                  <option value="10k-25k">$10k - $25k</option>
                  <option value="25k-50k">$25k - $50k</option>
                  <option value=">50k">$50k+</option>
                </select>
              </div>
            </div>

            <!-- Message -->
            <div>
              <label for="message" class="block text-sm font-semibold text-[#171D1C] mb-2">Your Message *</label>
              <textarea id="message" name="message" rows="3" required class="glass-input w-full resize-none"
                placeholder="Tell us about your project..."></textarea>
            </div>

            <!-- Status Message Container -->
            <div id="form-status" class="hidden p-4 rounded-xl text-sm font-medium transition-all duration-300"></div>

            <!-- Submit Button -->
            <button type="submit" id="submit-btn"
              class="glass-button w-full flex items-center justify-center gap-2 group">
              <span id="btn-text">Send Message</span>
              <i id="btn-icon" class="fas fa-paper-plane group-hover:translate-x-1 transition-transform"></i>
              <svg id="btn-spinner" class="hidden animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg"
                fill="none" viewBox="0 0 24 24">
                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                <path class="opacity-75" fill="currentColor"
                  d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
                </path>
              </svg>
            </button>

            <!-- Privacy Note -->
            <p class="text-xs text-[#868686] text-center">
              We respect your privacy. Your information will only be used to respond to your inquiry.
            </p>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Form submission handled by Formspree - Inline feedback version -->
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const form = document.getElementById('contact-form');
    const submitBtn = document.getElementById('submit-btn');
    const btnText = document.getElementById('btn-text');
    const btnIcon = document.getElementById('btn-icon');
    const btnSpinner = document.getElementById('btn-spinner');
    const statusDiv = document.getElementById('form-status');

    let statusTimeout;

    // Show status message with auto-hide
    function showStatus(type, message) {
      statusDiv.classList.remove('hidden');

      // Clear any existing timeout
      if (statusTimeout) {
        clearTimeout(statusTimeout);
      }

      if (type === 'success') {
        statusDiv.className = 'mt-2 p-4 rounded-xl text-sm font-medium bg-green-50 text-green-700 border border-green-200 dark:bg-green-900/30 dark:text-green-300 dark:border-green-800 transition-all duration-300 opacity-100';
        statusDiv.innerHTML = `<div class="flex items-center justify-center gap-2"><i class="fas fa-check-circle text-lg"></i><span>${message}</span></div>`;
      } else {
        statusDiv.className = 'mt-2 p-4 rounded-xl text-sm font-medium bg-red-50 text-red-700 border border-red-200 dark:bg-red-900/30 dark:text-red-300 dark:border-red-800 transition-all duration-300 opacity-100';
        statusDiv.innerHTML = `<div class="flex items-center justify-center gap-2"><i class="fas fa-exclamation-circle text-lg"></i><span>${message}</span></div>`;
      }

      // Auto-hide after 5 seconds
      statusTimeout = setTimeout(() => {
        statusDiv.classList.add('opacity-0');
        setTimeout(() => {
          statusDiv.classList.add('hidden');
          statusDiv.classList.remove('opacity-0');
        }, 300); // Wait for fade out transition
      }, 5000);
    }

    form.addEventListener('submit', async function (e) {
      e.preventDefault();

      // Show loading state
      submitBtn.disabled = true;
      btnText.textContent = 'Sending...';
      btnIcon.classList.add('hidden');
      btnSpinner.classList.remove('hidden');
      statusDiv.classList.add('hidden'); // Hide previous status

      // Collect form data
      const formData = new FormData(form);

      try {
        // Submit to Formspree via AJAX
        const response = await fetch('https://formspree.io/f/mzdpvbgj', {
          method: 'POST',
          body: formData,
          headers: {
            'Accept': 'application/json'
          }
        });

        if (response.ok) {
          // Success
          showStatus('success', "Thanks! We've received your message and will get back to you within 24 hours.");
          form.reset();
        } else {
          // Error from Formspree
          const data = await response.json();
          const errorMsg = data.errors ? data.errors.map(e => e.message).join(', ') : 'Something went wrong. Please try again.';
          showStatus('error', errorMsg);
        }
      } catch (error) {
        // Network error
        showStatus('error', 'Connection failed. Please check your internet and try again.');
      } finally {
        // Reset button state
        submitBtn.disabled = false;
        btnText.textContent = 'Send Message';
        btnIcon.classList.remove('hidden');
        btnSpinner.classList.add('hidden');
      }
    });
  });
</script>